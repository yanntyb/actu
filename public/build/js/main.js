(()=>{var t={816:t=>{getTimeDiff=(t=null,e=null)=>{let i,a;t||(t=new Date),e||(e=new Date);const n=function(t,e){return a=e.getTime(),i=t.getTime(),Math.trunc(Math.abs((a-i)/6e4))},s=function(t,e){return a=e.getTime(),i=t.getTime(),Math.trunc(Math.abs((a-i)/36e5))},r=function(t,e){return a=e.getTime(),i=t.getTime(),Math.trunc(Math.abs((a-i)/864e5))},o=function(t,e){return a=e.getTime(),i=t.getTime(),Math.trunc(Math.abs((a-i)/6048e5))},c=function(t,e){let i=t.getFullYear(),a=e.getFullYear(),n=t.getMonth(),s=e.getMonth();return Math.trunc(Math.abs(s+12*a-(n+12*i)))},d=function(t,e){return Math.trunc(Math.abs(e.getFullYear()-t.getFullYear()))},u=function(t,e){return a=e.getTime(),i=t.getTime(),Math.trunc(Math.abs(a-i)/1e3)}(e,t),l=n(e,t),h=s(e,t),f=r(e,t),m=o(e,t),v=c(e,t),y=d(e,t);return u&&u<60?{value:u,suffix:getTimeDifferenceSuffix(u,"second")}:l&&l<60?{value:l,suffix:getTimeDifferenceSuffix(l,"minute")}:h&&h<24?{value:h,suffix:getTimeDifferenceSuffix(h,"hour")}:f&&f<7?{value:f,suffix:getTimeDifferenceSuffix(f,"day")}:m&&f<=28?{value:m,suffix:getTimeDifferenceSuffix(m,"week")}:v&&v<12?{value:v,suffix:getTimeDifferenceSuffix(v,"month")}:y?{value:y,suffix:getTimeDifferenceSuffix(y,"year")}:{value:0,suffix:"second"}},getTimeDifferenceSuffix=(t,e)=>(t>1&&(e+="s"),e),t.exports={getTimeDiff}}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,i),s.exports}(()=>{"use strict";var t=i(816);function e(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var a=require("is-image-url"),n=function(){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.data=t,this.parent=e,this.description="",this.title="",this.div=document.createElement("div"),this.expand=!1,this.createDom()}var n,s,r;return n=i,(s=[{key:"createDom",value:function(){this.parent.appendChild(this.div),this.div.className="article",this.data.author||(this.data.author="Inconnu"),this.data.image||(this.data.image=null),this.cleanData(),this.cleanDate(),this.div.innerHTML='\n            <div class="sub-title"><h3>'.concat(this.data.author,'</h3></div>\n            <div class="title">').concat(this.title,'</div>\n            <div class="description">').concat(this.description,'</div>\n            <div class="date">').concat(this.data.published_at,"</div>\n            "),this.data.image&&a(this.data.image)&&(this.data.image.includes("www.bladi.net")||(this.div.innerHTML+='<img src="'.concat(this.data.image,'" alt="').concat(this.data.title,'-image">'))),this.setEventExpand()}},{key:"setEventExpand",value:function(){var t=this;document.addEventListener("click",(function(e){var i=e.target;(i===t.div||document.body)&&(t.expand||i!==t.div?(i===t.div||document.body)&&(t.div.style.zIndex="1",t.retractDom()):(t.div.style.zIndex="10",t.expandDom()))}))}},{key:"cleanData",value:function(){this.data.title.length>65?this.title=this.data.title.substr(0,58)+"...":this.title=this.data.title,this.data.description.length>100?this.description=this.data.description.substr(0,100)+"...":this.description=this.data.description}},{key:"cleanDate",value:function(){var e=this.data.published_at,i=e.substr(0,4),a=e.substr(5,2),n=e.substr(8,2),s=e.substr(11,2),r=e.substr(14,2),o=e.substr(17,2),c=new Date(i,a,n,s,r,o),d=(0,t.getTimeDiff)(c);this.data.published_at="Il ya "+d.value+" "+{months:"mois",month:"moi",Hours:"heures",Hour:"heure",years:"années",year:"année",second:"seconde",seconds:"seconds",minutes:"minutes",minute:"minute",Days:"jour"}[d.suffix]}},{key:"retractDom",value:function(){this.div.className.includes("expand"),this.div.classList.add("article"),this.div.classList.remove("expand"),this.div.style.zIndex="1",this.div.innerHTML='\n    <div class="sub-title"><h3>'.concat(this.data.author,'</h3></div>\n    <div class="title">').concat(this.title,'</div>\n    <div class="description">').concat(this.description,'</div>\n    <div class="date">').concat(this.data.published_at,"</div>\n    "),this.data.image&&a(this.data.image)&&(this.data.image.includes("www.bladi.net")||(this.div.innerHTML+='<img src="'.concat(this.data.image,'" alt="').concat(this.data.title,'-image">'))),this.expand=!1}},{key:"expandDom",value:function(){this.div.style.zIndex="10",this.div.classList.remove("article"),this.div.classList.add("expand"),this.div.innerHTML='\n            <div id="expanded-article">\n                <h1>'.concat(this.data.title,'</h1>\n                <div id="content">\n                    <div id="desc">').concat(this.data.description,'</div>\n                </div>\n                <div id="author">Publié par ').concat(this.data.author," ").concat(this.data.published_at,"</div>\n            </div>\n            "),this.data.image&&a(this.data.image)&&(this.data.image.includes("www.bladi.net")||(this.div.querySelector("#content").innerHTML+='<img src="'.concat(this.data.image,'" alt="').concat(this.data.title,'-image">'),this.div.querySelector("#content").className="with-img")),this.expand=!0}}])&&e(n.prototype,s),r&&e(n,r),i}();function s(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){c=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(c)throw s}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function o(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.articles={},this.parent=document.body,this.div=document.createElement("div"),this.createDom(),this.getData()}var e,i,a;return e=t,(i=[{key:"createDom",value:function(){this.parent.prepend(this.div),this.div.id="main",this.div.innerHTML='\n            <div id="main-list">\n            <i class="fas fa-moon theme" data-value="0"></i>\n            </div>\n            ';var t=this.div.querySelector(".theme");t.addEventListener("click",(function(){"0"===t.dataset.value?(document.querySelector(":root").style.setProperty("--bg-color-theme","var(--bg-color-black)"),document.body.style.animationName="to-black",document.body.style.animationDuration="2s",t.className="far fa-moon theme",t.dataset.value="1",window.setTimeout((function(){document.body.style.animationName="",document.body.style.animationDuration="",document.body.style.backgroundColor="var(--bg-color-black)"}),1e3)):(document.querySelector(":root").style.setProperty("--bg-color-theme","var(--bg-color-white)"),document.body.style.animationName="to-white",document.body.style.animationDuration="2s",t.dataset.value="0",t.className="fas fa-moon theme",window.setTimeout((function(){document.body.style.animationName="",document.body.style.animationDuration="",document.body.style.backgroundColor="var(--bg-color-white)"}),1e3))}))}},{key:"getData",value:function(){var t=this,e=new XMLHttpRequest;e.open("GET","http://api.mediastack.com/v1/news?access_key=0b0a4cd28b57879609a459f4811219a4&languages=fr"),e.onload=function(){var i,a=0,r=s(JSON.parse(e.responseText).data);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.articles[a]=new n(o,t.div.querySelector("#main-list")),a++}}catch(t){r.e(t)}finally{r.f()}},e.send()}}])&&o(e.prototype,i),a&&o(e,a),t}())})()})();